import { useEffect, useState } from 'react';
import { useAudioStore } from '../store/useAudioStore';

interface MindStrikeIconProps {
  className?: string;
  size?: number;
}

export function MindStrikeIcon({
  className = '',
  size = 24,
}: MindStrikeIconProps) {
  const { isPlaying } = useAudioStore();
  const [showVibrant, setShowVibrant] = useState(false);

  useEffect(() => {
    if (isPlaying) {
      // Delay 1 second, then start transition to vibrant
      const timer = setTimeout(() => setShowVibrant(true), 1000);
      return () => clearTimeout(timer);
    } else {
      // Delay 1 second, then start transition back to original
      const timer = setTimeout(() => setShowVibrant(false), 1000);
      return () => clearTimeout(timer);
    }
  }, [isPlaying]);
  return (
    <svg
      className={className}
      width={size}
      viewBox="0 -200 1125.9225 575.86197"
      version="1.1"
      id="svg1"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs id="defs1">
        {/* Original logo.svg gradient */}
        <linearGradient
          id="originalGradient"
          x1="322.57593"
          y1="373.91083"
          x2="336.18707"
          y2="143.61948"
          gradientUnits="userSpaceOnUse"
          gradientTransform="matrix(2.54492,0,0,2.54492,-90.109,-559.52594)"
        >
          <stop offset="0" stopColor="#4fb3ff" />
          <stop offset="1" stopColor="#1e40af" />
        </linearGradient>

        {/* Flowing synthwave gradient for the M */}
        <linearGradient
          id="synthwaveGradient"
          x1="322.57593"
          y1="373.91083"
          x2="336.18707"
          y2="143.61948"
          gradientUnits="userSpaceOnUse"
          gradientTransform="matrix(2.54492,0,0,2.54492,-90.109,-559.52594)"
        >
          <stop offset="0%" stopColor="#4fb3ff">
            <animate
              attributeName="stop-color"
              values="#4fb3ff;#60a5fa;#3b82f6;#2563eb;#1e40af;#2563eb;#3b82f6;#60a5fa;#4fb3ff"
              dur="10s"
              repeatCount="indefinite"
            />
          </stop>
          <stop offset="100%" stopColor="#1e40af">
            <animate
              attributeName="stop-color"
              values="#1e40af;#2563eb;#3b82f6;#60a5fa;#4fb3ff;#60a5fa;#3b82f6;#2563eb;#1e40af"
              dur="10s"
              repeatCount="indefinite"
            />
          </stop>
        </linearGradient>

        {/* Shimmer overlay */}
        <linearGradient id="shimmerOverlay" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stopColor="transparent" />
          <stop offset="50%" stopColor="rgba(255,255,255,0.3)" />
          <stop offset="100%" stopColor="transparent" />
          <animateTransform
            attributeName="gradientTransform"
            type="translate"
            values="-100 0;200 0;-100 0"
            dur="2s"
            repeatCount="indefinite"
          />
        </linearGradient>
      </defs>
      <g id="layer1">
        {/* Original gradient layer */}
        <g
          style={{
            opacity: showVibrant ? 0 : 1,
            transition: 'opacity 2s ease-in-out',
          }}
        >
          <path
            fill="url(#originalGradient)"
            d="m 957.43097,-200 h 168.49153 c -1.7611,8.93267 -4.1991,17.92387 -6.6982,26.68094 -7.8333,27.79562 -13.9258,56.21474 -21.0287,84.219039 L 995.20522,326.67883 c -3.89882,16.41982 -8.30408,32.68695 -11.88987,49.18312 -19.6366,-2.61363 -39.81273,-1.95195 -59.58676,-1.94432 l -77.24086,0.0229 C 872.21941,260.34803 901.54962,147.5699 927.31184,33.710183 879.82363,102.62153 833.954,172.53557 787.34124,242.03224 l -35.57543,52.92671 c -18.10966,27.39097 -41.19717,64.53662 -81.57233,36.76391 C 647.00417,315.7713 640.15325,255.8817 634.29993,227.76288 L 600.0504,66.850132 c -1.72291,-8.278625 -3.08444,-16.7074 -5.06694,-24.922402 -17.31054,63.26417 -31.68934,135.44064 -46.02996,200.35137 -9.59181,43.42143 -18.12747,87.44854 -29.54653,130.4297 -47.14464,0.58533 -94.36308,-0.12979 -141.51791,0 5.63446,-26.28394 15.07611,-53.00305 21.65473,-79.36079 l 15.58509,-60.15936 c 3.24732,-12.17235 6.95526,-24.21492 9.95572,-36.45089 2.85031,-8.26845 4.93715,-16.88555 7.25048,-25.3245 5.11784,-15.10919 8.62983,-31.23126 12.94346,-46.64075 l 80.74014,-299.42256 c 7.75946,-0.44791 15.54437,-0.0738 23.31401,-0.0356 l 40.98848,0.0407 c 28.13155,0.008 56.5863,-0.94417 84.67458,-0.005 l 53.33643,232.732932 c 3.29567,14.315175 6.87129,28.556547 9.08537,43.090588 18.36923,-3.987892 21.36205,-15.19572 30.60266,-29.007001 8.56111,-12.798402 97.07852,-144.014477 102.78423,-147.315239 11.14675,-19.183607 28.0781,-41.26079 40.92486,-59.89724 l 31.19308,-44.6328 c 4.79972,-6.75931 9.21261,-13.94617 14.50859,-20.32119 z"
            id="path2-orig"
            style={{ strokeWidth: 2.54492 }}
          />
          <path
            fill="#1e40af"
            d="m 957.43097,-200 h 168.49153 c -1.7611,8.93267 -4.1991,17.92387 -6.6982,26.68094 -13.0758,-2.93175 -37.6801,-1.36408 -51.9139,-1.36153 l -97.73253,0.0305 c -24.673,28.16717 -49.17803,68.65939 -72.90432,99.50128 -14.74272,-29.38365 -13.71203,-8.73671 -25.86911,0 11.14675,-19.183607 28.0781,-41.26079 40.92486,-59.89724 l 31.19308,-44.6328 c 4.79972,-6.75931 9.21261,-13.94617 14.50859,-20.32119 z"
            id="path3-orig"
            style={{ strokeWidth: 2.54492 }}
          />
          <path
            fill="#1e40af"
            d="m 507.79705,-200 h 161.74748 c 2.37696,8.30662 3.97007,16.84737 5.45122,25.34995 -28.08828,-0.93908 -56.54303,0.0127 -84.67458,0.005 l -40.98848,-0.0407 c -7.76964,-0.0382 -15.55455,-0.41228 -23.31401,0.0356 l -80.74014,299.42256 c -4.31363,15.40949 -7.82562,31.53156 -12.94346,46.64075 -34.56256,6.60661 -61.51326,-3.28549 -89.17654,-23.04934 5.29089,41.22516 45.12398,53.36952 81.92606,48.37384 -3.00046,12.23597 -6.7084,24.27854 -9.95572,36.45089 l -15.58509,60.15936 c -49.61322,22.22224 -97.05307,9.07264 -140.27345,-21.15083 -38.16871,-26.69366 -61.62015,-46.63311 -109.06967,-23.36745 5.10842,-12.54391 22.23446,-27.79053 34.35082,-33.64639 48.43746,-23.41072 110.45971,42.60196 124.72144,-7.71874 -12.08837,-46.58476 -53.69272,-33.11959 -83.09164,-35.97754 -27.26118,-2.6518 -56.08749,-23.53542 -64.12587,-49.97714 68.62784,40.54821 74.41244,-9.95318 132.00398,-8.0114 45.2105,1.5244 95.40141,42.37546 118.37186,-20.537509 C 384.28954,114.24672 357.33374,109.23068 328.82555,91.400975 287.72,65.692193 285.39904,67.735764 236.77834,75.561393 195.22489,82.249442 154.15598,61.113882 147.50025,17.208922 c 7.04612,5.334152 13.28551,11.45214 21.23965,15.503653 65.25175,33.24429 99.35622,-60.271341 192.75988,-14.460236 28.49292,13.974156 66.74053,39.998508 94.59976,10.01935 -58.05471,-3.713038 -65.38663,-41.981 -114.12184,-56.820429 -46.96141,-14.29736 -91.58913,26.9939668 -126.98642,-42.724117 47.96156,33.811808 68.93425,6.385205 109.57407,-8.003773 56.17402,-19.88855 92.82342,17.419977 145.80102,20.540049 5.67517,-14.378798 8.47203,-30.551764 12.42684,-45.505719 z"
            id="path4-orig"
            style={{ strokeWidth: 2.54492 }}
          />
          <path
            fill="#1e40af"
            d="m 0,8.6630806 c 7.0723327,3.9064524 14.297106,8.3778764 22.150984,10.4799804 33.484276,8.960664 76.204575,-26.5027967 96.812826,32.200873 0.25831,1.404796 0.34204,2.481297 0.18146,3.903907 L 118.28432,55.6194 C 83.645667,46.875054 6.7829753,65.005065 0,8.6630806 Z"
            id="path5-orig"
            style={{ strokeWidth: 2.54492 }}
          />
          <path
            fill="#1e40af"
            d="m 103.3319,121.50992 c 22.45688,-0.84746 35.34766,11.55903 44.16835,31.62318 -25.67773,0.3232 -52.605019,3.26259 -76.874139,2.93429 -19.381856,-4.74627 -32.833031,-15.97955 -40.869888,-34.55747 30.905508,17.15785 44.716789,2.29807 72.613697,0.0713 z"
            id="path6-orig"
            style={{ strokeWidth: 2.54492 }}
          />
        </g>

        {/* Synthwave gradient layer */}
        <g
          style={{
            opacity: showVibrant ? 1 : 0,
            transition: 'opacity 2s ease-in-out',
          }}
        >
          <path
            fill="url(#synthwaveGradient)"
            d="m 957.43097,-200 h 168.49153 c -1.7611,8.93267 -4.1991,17.92387 -6.6982,26.68094 -7.8333,27.79562 -13.9258,56.21474 -21.0287,84.219039 L 995.20522,326.67883 c -3.89882,16.41982 -8.30408,32.68695 -11.88987,49.18312 -19.6366,-2.61363 -39.81273,-1.95195 -59.58676,-1.94432 l -77.24086,0.0229 C 872.21941,260.34803 901.54962,147.5699 927.31184,33.710183 879.82363,102.62153 833.954,172.53557 787.34124,242.03224 l -35.57543,52.92671 c -18.10966,27.39097 -41.19717,64.53662 -81.57233,36.76391 C 647.00417,315.7713 640.15325,255.8817 634.29993,227.76288 L 600.0504,66.850132 c -1.72291,-8.278625 -3.08444,-16.7074 -5.06694,-24.922402 -17.31054,63.26417 -31.68934,135.44064 -46.02996,200.35137 -9.59181,43.42143 -18.12747,87.44854 -29.54653,130.4297 -47.14464,0.58533 -94.36308,-0.12979 -141.51791,0 5.63446,-26.28394 15.07611,-53.00305 21.65473,-79.36079 l 15.58509,-60.15936 c 3.24732,-12.17235 6.95526,-24.21492 9.95572,-36.45089 2.85031,-8.26845 4.93715,-16.88555 7.25048,-25.3245 5.11784,-15.10919 8.62983,-31.23126 12.94346,-46.64075 l 80.74014,-299.42256 c 7.75946,-0.44791 15.54437,-0.0738 23.31401,-0.0356 l 40.98848,0.0407 c 28.13155,0.008 56.5863,-0.94417 84.67458,-0.005 l 53.33643,232.732932 c 3.29567,14.315175 6.87129,28.556547 9.08537,43.090588 18.36923,-3.987892 21.36205,-15.19572 30.60266,-29.007001 8.56111,-12.798402 97.07852,-144.014477 102.78423,-147.315239 11.14675,-19.183607 28.0781,-41.26079 40.92486,-59.89724 l 31.19308,-44.6328 c 4.79972,-6.75931 9.21261,-13.94617 14.50859,-20.32119 z"
            id="path2-synth"
            style={{ strokeWidth: 2.54492 }}
          />
          <path
            fill="#1e40af"
            d="m 957.43097,-200 h 168.49153 c -1.7611,8.93267 -4.1991,17.92387 -6.6982,26.68094 -13.0758,-2.93175 -37.6801,-1.36408 -51.9139,-1.36153 l -97.73253,0.0305 c -24.673,28.16717 -49.17803,68.65939 -72.90432,99.50128 -14.74272,-29.38365 -13.71203,-8.73671 -25.86911,0 11.14675,-19.183607 28.0781,-41.26079 40.92486,-59.89724 l 31.19308,-44.6328 c 4.79972,-6.75931 9.21261,-13.94617 14.50859,-20.32119 z"
            id="path3-synth"
            style={{ strokeWidth: 2.54492 }}
          >
            <animate
              attributeName="fill"
              values="#1e40af;#2563eb;#3b82f6;#60a5fa;#4fb3ff;#60a5fa;#3b82f6;#2563eb;#1e40af"
              dur="12s"
              repeatCount="indefinite"
            />
          </path>
          <path
            fill="#1e40af"
            d="m 507.79705,-200 h 161.74748 c 2.37696,8.30662 3.97007,16.84737 5.45122,25.34995 -28.08828,-0.93908 -56.54303,0.0127 -84.67458,0.005 l -40.98848,-0.0407 c -7.76964,-0.0382 -15.55455,-0.41228 -23.31401,0.0356 l -80.74014,299.42256 c -4.31363,15.40949 -7.82562,31.53156 -12.94346,46.64075 -34.56256,6.60661 -61.51326,-3.28549 -89.17654,-23.04934 5.29089,41.22516 45.12398,53.36952 81.92606,48.37384 -3.00046,12.23597 -6.7084,24.27854 -9.95572,36.45089 l -15.58509,60.15936 c -49.61322,22.22224 -97.05307,9.07264 -140.27345,-21.15083 -38.16871,-26.69366 -61.62015,-46.63311 -109.06967,-23.36745 5.10842,-12.54391 22.23446,-27.79053 34.35082,-33.64639 48.43746,-23.41072 110.45971,42.60196 124.72144,-7.71874 -12.08837,-46.58476 -53.69272,-33.11959 -83.09164,-35.97754 -27.26118,-2.6518 -56.08749,-23.53542 -64.12587,-49.97714 68.62784,40.54821 74.41244,-9.95318 132.00398,-8.0114 45.2105,1.5244 95.40141,42.37546 118.37186,-20.537509 C 384.28954,114.24672 357.33374,109.23068 328.82555,91.400975 287.72,65.692193 285.39904,67.735764 236.77834,75.561393 195.22489,82.249442 154.15598,61.113882 147.50025,17.208922 c 7.04612,5.334152 13.28551,11.45214 21.23965,15.503653 65.25175,33.24429 99.35622,-60.271341 192.75988,-14.460236 28.49292,13.974156 66.74053,39.998508 94.59976,10.01935 -58.05471,-3.713038 -65.38663,-41.981 -114.12184,-56.820429 -46.96141,-14.29736 -91.58913,26.9939668 -126.98642,-42.724117 47.96156,33.811808 68.93425,6.385205 109.57407,-8.003773 56.17402,-19.88855 92.82342,17.419977 145.80102,20.540049 5.67517,-14.378798 8.47203,-30.551764 12.42684,-45.505719 z"
            id="path4-synth"
            style={{ strokeWidth: 2.54492 }}
          >
            <animate
              attributeName="fill"
              values="#1e40af;#2563eb;#3b82f6;#4fb3ff;#60a5fa;#4fb3ff;#3b82f6;#2563eb;#1e40af"
              dur="14s"
              repeatCount="indefinite"
            />
          </path>
          <path
            fill="#1e40af"
            d="m 0,8.6630806 c 7.0723327,3.9064524 14.297106,8.3778764 22.150984,10.4799804 33.484276,8.960664 76.204575,-26.5027967 96.812826,32.200873 0.25831,1.404796 0.34204,2.481297 0.18146,3.903907 L 118.28432,55.6194 C 83.645667,46.875054 6.7829753,65.005065 0,8.6630806 Z"
            id="path5-synth"
            style={{ strokeWidth: 2.54492 }}
          >
            <animate
              attributeName="fill"
              values="#1e40af;#2563eb;#4fb3ff;#60a5fa;#3b82f6;#60a5fa;#4fb3ff;#2563eb;#1e40af"
              dur="16s"
              repeatCount="indefinite"
            />
          </path>
          <path
            fill="#1e40af"
            d="m 103.3319,121.50992 c 22.45688,-0.84746 35.34766,11.55903 44.16835,31.62318 -25.67773,0.3232 -52.605019,3.26259 -76.874139,2.93429 -19.381856,-4.74627 -32.833031,-15.97955 -40.869888,-34.55747 30.905508,17.15785 44.716789,2.29807 72.613697,0.0713 z"
            id="path6-synth"
            style={{ strokeWidth: 2.54492 }}
          >
            <animate
              attributeName="fill"
              values="#1e40af;#3b82f6;#60a5fa;#4fb3ff;#3b82f6;#2563eb;#1e40af"
              dur="18s"
              repeatCount="indefinite"
            />
          </path>
        </g>
      </g>
    </svg>
  );
}
